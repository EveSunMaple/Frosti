---
import { USER_NAME } from "../consts";
const { title, url } = Astro.props;
import { t } from "i18next";
import { Icon } from "astro-icon/components";
---

<br />
<div role="alert" class="alert transition-colors fade-in-up">
  <div class="m-6"><Icon size="64" name="ri:creative-commons-line"></div>
  <div class="relative p-4 z-10">
    <h3 class="relative font-bold mt-0">{title}</h3>
    <div class="text-sm mt-2">
      <p>
        © {USER_NAME} | <a
          href="https://creativecommons.org/licenses/by-sa/4.0/deed"
          class="text-blue-600">CC BY-SA 4.0</a
        >
      </p>
    </div>
  </div>
  <div>
    <button
      id="shareButton"
      class="btn glass m-8"
      onclick="share_modal.showModal()"
    >
      {t("label.share")}<svg
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
        class="stroke-current fill-current shrink-0 h-6 w-6"
      >
        <path
          d="M15 3C15 2.44772 15.4477 2 16 2C19.3137 2 22 4.68629 22 8V16C22 19.3137 19.3137 22 16 22H8C4.68629 22 2 19.3137 2 16C2 15.4477 2.44772 15 3 15C3.55228 15 4 15.4477 4 16C4 18.2091 5.79086 20 8 20H16C18.2091 20 20 18.2091 20 16V8C20 5.79086 18.2091 4 16 4C15.4477 4 15 3.55228 15 3Z"
        ></path>
        <path
          d="M3.70663 12.7845L3.16104 12.2746L3.70664 12.7845C4.09784 12.3659 4.62287 11.8265 5.17057 11.3274C5.72852 10.8191 6.26942 10.3905 6.69641 10.1599C7.06268 9.96208 7.75042 9.84035 8.40045 9.84848C8.62464 9.85128 8.81365 9.86944 8.9559 9.89472C8.96038 10.5499 8.95447 11.7469 8.95145 12.2627C8.94709 13.0099 9.83876 13.398 10.3829 12.8878L14.9391 8.61636C15.2845 8.2926 15.2988 7.74908 14.971 7.4076L10.4132 2.65991C9.88293 2.10757 8.95 2.48291 8.95 3.24856V5.16793C8.5431 5.13738 8.0261 5.11437 7.47937 5.13009C6.5313 5.15734 5.30943 5.30257 4.4722 5.88397C4.36796 5.95636 4.26827 6.03539 4.17359 6.11781C2.49277 7.58092 2.11567 9.90795 1.8924 11.7685L1.87242 11.935C1.74795 12.9722 3.02541 13.5134 3.70663 12.7845ZM9.35701 11.7935L9.70204 12.1615L9.35701 11.7935C9.35715 11.7934 9.35729 11.7932 9.35744 11.7931L9.35701 11.7935Z"
          fill="none"
          stroke-width="2"
          stroke-linecap="round"></path>
      </svg>
    </button>
  </div>
</div>
<dialog id="share_modal" class="modal">
  <div class="modal-box">
    <form method="dialog">
      <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"
        >✕</button
      >
    </form>
    <a
      class="resp-sharing-button__link"
      href={`https://twitter.com/intent/tweet/?text=${title}&url=${url}`}
      target="_blank"
      rel="noopener"
    >
      <div class="resp-sharing-button resp-sharing-button--twitter">
        <span class="sr-only">X (Twitter)</span>
        <div aria-hidden="true" class="resp-sharing-button__icon">
          <svg
            role="img"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title>X (Twitter)</title>
            <path
              d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"
            ></path>
          </svg>
        </div>
      </div>
    </a>

    <a
      class="resp-sharing-button__link"
      href={`https://telegram.me/share/url?text=${title}&url=${url}`}
      target="_blank"
      rel="noopener"
    >
      <div class="resp-sharing-button resp-sharing-button--telegram">
        <span class="sr-only">Telegram</span>
        <div aria-hidden="true" class="resp-sharing-button__icon">
          <svg
            role="img"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title>Telegram</title>
            <path
              d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"
            ></path>
          </svg>
        </div>
      </div>
    </a>

    <a
      class="resp-sharing-button__link"
      href={`https://www.douban.com/share/service/?href=${url}name=${title}`}
      target="_blank"
      rel="noopener"
    >
      <div class="resp-sharing-button resp-sharing-button--douban">
        <span class="sr-only">Douban</span>
        <div aria-hidden="true" class="resp-sharing-button__icon">
          <svg
            role="img"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title>Douban</title>
            <path
              d="M.51 3.06h22.98V.755H.51V3.06Zm20.976 2.537v9.608h-2.137l-1.669 5.76H24v2.28H0v-2.28h6.32l-1.67-5.76H2.515V5.597h18.972Zm-5.066 9.608H7.58l1.67 5.76h5.501l1.67-5.76ZM18.367 7.9H5.634v5.025h12.733V7.9Z"
            ></path>
          </svg>
        </div>
      </div>
    </a>

    <a
      class="resp-sharing-button__link"
      href={`https://reddit.com/submit/?url=${url}&title=${title}`}
      target="_blank"
      rel="noopener"
    >
      <div class="resp-sharing-button resp-sharing-button--reddit">
        <span class="sr-only">Reddit</span>
        <div aria-hidden="true" class="resp-sharing-button__icon">
          <svg
            role="img"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title>Reddit</title>
            <path
              d="M12 0C5.373 0 0 5.373 0 12c0 3.314 1.343 6.314 3.515 8.485l-2.286 2.286C.775 23.225 1.097 24 1.738 24H12c6.627 0 12-5.373 12-12S18.627 0 12 0Zm4.388 3.199c1.104 0 1.999.895 1.999 1.999 0 1.105-.895 2-1.999 2-.946 0-1.739-.657-1.947-1.539v.002c-1.147.162-2.032 1.15-2.032 2.341v.007c1.776.067 3.4.567 4.686 1.363.473-.363 1.064-.58 1.707-.58 1.547 0 2.802 1.254 2.802 2.802 0 1.117-.655 2.081-1.601 2.531-.088 3.256-3.637 5.876-7.997 5.876-4.361 0-7.905-2.617-7.998-5.87-.954-.447-1.614-1.415-1.614-2.538 0-1.548 1.255-2.802 2.803-2.802.645 0 1.239.218 1.712.585 1.275-.79 2.881-1.291 4.64-1.365v-.01c0-1.663 1.263-3.034 2.88-3.207.188-.911.993-1.595 1.959-1.595Zm-8.085 8.376c-.784 0-1.459.78-1.506 1.797-.047 1.016.64 1.429 1.426 1.429.786 0 1.371-.369 1.418-1.385.047-1.017-.553-1.841-1.338-1.841Zm7.406 0c-.786 0-1.385.824-1.338 1.841.047 1.017.634 1.385 1.418 1.385.785 0 1.473-.413 1.426-1.429-.046-1.017-.721-1.797-1.506-1.797Zm-3.703 4.013c-.974 0-1.907.048-2.77.135-.147.015-.241.168-.183.305.483 1.154 1.622 1.964 2.953 1.964 1.33 0 2.47-.81 2.953-1.964.057-.137-.037-.29-.184-.305-.863-.087-1.795-.135-2.769-.135Z"
            ></path>
          </svg>
        </div>
      </div>
    </a>

    <a
      class="resp-sharing-button__link"
      href={`https://facebook.com/sharer/sharer.php?u=${url}`}
      target="_blank"
      rel="noopener"
    >
      <div class="resp-sharing-button resp-sharing-button--facebook">
        <span class="sr-only">Facebook</span>
        <div aria-hidden="true" class="resp-sharing-button__icon">
          <svg
            role="img"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title>Facebook</title>
            <path
              d="M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"
            ></path>
          </svg>
        </div>
      </div>
    </a>

    <a
      class="resp-sharing-button__link"
      href={`https://getpocket.com/edit?url=${url}&title=${title}`}
      target="_blank"
      rel="noopener"
    >
      <div class="resp-sharing-button resp-sharing-button--pocket">
        <span class="sr-only">Pocket</span>
        <div aria-hidden="true" class="resp-sharing-button__icon">
          <svg
            role="img"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title>Pocket</title>
            <path
              d="M18.813 10.259l-5.646 5.419c-.32.305-.73.458-1.141.458-.41 0-.821-.153-1.141-.458l-5.646-5.419c-.657-.628-.677-1.671-.049-2.326.63-.657 1.671-.679 2.325-.05l4.511 4.322 4.517-4.322c.66-.631 1.697-.607 2.326.049.631.645.615 1.695-.045 2.326l-.011.001zm5.083-7.546c-.299-.858-1.125-1.436-2.041-1.436H2.179c-.9 0-1.717.564-2.037 1.405-.094.25-.142.511-.142.774v7.245l.084 1.441c.348 3.277 2.047 6.142 4.682 8.139.045.036.094.07.143.105l.03.023c1.411 1.03 2.989 1.728 4.694 2.072.786.158 1.591.24 2.389.24.739 0 1.481-.067 2.209-.204.088-.029.176-.045.264-.06.023 0 .049-.015.074-.029 1.633-.36 3.148-1.036 4.508-2.025l.029-.031.135-.105c2.627-1.995 4.324-4.862 4.686-8.148L24 10.678V3.445c0-.251-.031-.5-.121-.742l.017.01z"
            ></path>
          </svg>
        </div>
      </div>
    </a>

    <a
      class="resp-sharing-button__link"
      href={`mailto:?subject=${title}&body=${url}`}
      target="_self"
      rel="noopener"
    >
      <div class="resp-sharing-button resp-sharing-button--email">
        <span class="sr-only">E-Mail</span>
        <div aria-hidden="true" class="resp-sharing-button__icon">
          <svg
            role="img"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title>E-Mail</title>
            <path
              d="M22 4H2C.9 4 0 4.9 0 6v12c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17 0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1 0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08 0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z"
            ></path>
          </svg>
        </div>
      </div>
    </a>
  </div>
</dialog>

<style>
  .resp-sharing-button {
    border-radius: 5px;
    transition: 25ms ease-out;
    padding: 0.5em 0.75em;
  }

  .resp-sharing-button:hover {
    opacity: 0.8;
  }

  .resp-sharing-button__link {
    display: inline-block;
    text-decoration: none;
    color: #fff;
    margin-right: 0.5em;
  }

  .resp-sharing-button__icon {
    display: inline-block;
    fill: #fff;
    stroke: none;
  }

  .resp-sharing-button__icon svg {
    width: 1em;
    height: 1em;
    margin: 0;
    vertical-align: middle;
  }

  .resp-sharing-button--twitter {
    background-color: #000;
  }

  .resp-sharing-button--telegram {
    background-color: #26a5e4;
  }

  .resp-sharing-button--douban {
    background-color: #2d963d;
  }

  .resp-sharing-button--reddit {
    background-color: #ff4500;
  }

  .resp-sharing-button--facebook {
    background-color: #0866ff;
  }

  .resp-sharing-button--pocket {
    background-color: #ef3f56;
  }

  .resp-sharing-button--email {
    background-color: #777;
  }
</style>
