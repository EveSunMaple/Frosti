import{s as A,n as p}from"./router.BU1Iafn9.js";const v=new Set,s=new WeakSet;let d,y,E=!1;function S(){const e=new WeakMap;return new IntersectionObserver((t,n)=>{for(const o of t){const a=o.target,r=e.get(a);o.isIntersecting?(r&&clearTimeout(r),e.set(a,setTimeout(()=>{n.unobserve(a),e.delete(a),l(a.href)},300))):r&&(clearTimeout(r),e.delete(a))}})}function l(e,t){if(function(n,o){if(!navigator.onLine||!o&&L())return!1;try{const a=new URL(n,location.href);return location.origin===a.origin&&(location.pathname!==a.pathname||location.search!==a.search)&&!v.has(n)}catch{}return!1}(e=e.replace(/#.*/,""),t?.ignoreSlowConnection??!1))if(v.add(e),document.createElement("link").relList?.supports?.("prefetch")&&t?.with!=="fetch"){const n=document.createElement("link");n.rel="prefetch",n.setAttribute("href",e),document.head.append(n)}else fetch(e,{priority:"low"})}function i(e,t){if(e?.tagName!=="A")return!1;const n=e.dataset.astroPrefetch;return n!=="false"&&(!(t!=="tap"||n==null&&!d||!L())||(n==null&&d||n===""?t===y:n===t))}function L(){if("connection"in navigator){const e=navigator.connection;return e.saveData||/2g/.test(e.effectiveType)}return!1}function u(e){e();let t=!1;document.addEventListener("astro:page-load",()=>{t?e():t=!0})}function b(e){return e.dataset.astroReload!==void 0}var f;(A||function(){const e=document.querySelector('[name="astro-view-transitions-fallback"]');return e?e.getAttribute("content"):"animate"}()!=="none")&&(document.addEventListener("click",e=>{let t=e.target;if(e.composed&&(t=e.composedPath()[0]),t instanceof Element&&(t=t.closest("a, area")),!(t instanceof HTMLAnchorElement||t instanceof SVGAElement||t instanceof HTMLAreaElement))return;const n=t instanceof HTMLElement?t.target:t.target.baseVal,o=t instanceof HTMLElement?t.href:t.href.baseVal,a=new URL(o,location.href).origin;b(t)||t.hasAttribute("download")||!t.href||n&&n!=="_self"||a!==location.origin||e.button!==0||e.metaKey||e.ctrlKey||e.altKey||e.shiftKey||e.defaultPrevented||(e.preventDefault(),p(o,{history:t.dataset.astroHistory==="replace"?"replace":"auto",sourceElement:t}))}),document.addEventListener("submit",e=>{let t=e.target;if(t.tagName!=="FORM"||e.defaultPrevented||b(t))return;const n=t,o=e.submitter,a=new FormData(n,o),r=typeof n.action=="string"?n.action:n.getAttribute("action"),w=typeof n.method=="string"?n.method:n.getAttribute("method");let c=o?.getAttribute("formaction")??r??location.pathname;const m=o?.getAttribute("formmethod")??w??"get";if(m==="dialog"||location.origin!==new URL(c,location.href).origin)return;const g={sourceElement:o??n};if(m==="get"){const T=new URLSearchParams(a),h=new URL(c);h.search=T.toString(),c=h.toString()}else g.formData=a;e.preventDefault(),p(c,g)}),f={prefetchAll:!0},E||(E=!0,d??=f?.prefetchAll,y??=f?.defaultStrategy??"hover",function(){for(const e of["touchstart","mousedown"])document.body.addEventListener(e,t=>{i(t.target,"tap")&&l(t.target.href,{ignoreSlowConnection:!0})},{passive:!0})}(),function(){let e;function t(o){const a=o.target.href;e&&clearTimeout(e),e=setTimeout(()=>{l(a)},80)}function n(){e&&(clearTimeout(e),e=0)}document.body.addEventListener("focusin",o=>{i(o.target,"hover")&&t(o)},{passive:!0}),document.body.addEventListener("focusout",n,{passive:!0}),u(()=>{for(const o of document.getElementsByTagName("a"))s.has(o)||i(o,"hover")&&(s.add(o),o.addEventListener("mouseenter",t,{passive:!0}),o.addEventListener("mouseleave",n,{passive:!0}))})}(),function(){let e;u(()=>{for(const t of document.getElementsByTagName("a"))s.has(t)||i(t,"viewport")&&(s.add(t),e??=S(),e.observe(t))})}(),u(()=>{for(const e of document.getElementsByTagName("a"))i(e,"load")&&l(e.href)})));
