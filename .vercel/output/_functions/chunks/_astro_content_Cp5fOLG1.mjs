import{A as t,U as e,a as n,R as o,u as r,b as s,s as i,t as c,v as a,w as l,r as u}from"./astro/server_Cr3L-o0H.mjs";import{r as f,i as d,p}from"./path_BpDFqaMc.mjs";import{V as h}from"./consts_BdQXg571.mjs";import{u as y}from"./parse_Dcu5-KR0.mjs";var m=t=>Object.prototype.toString.call(t),g=t=>ArrayBuffer.isView(t)&&!(t instanceof DataView),b=t=>"[object Date]"===m(t),w=t=>"[object RegExp]"===m(t),_=t=>"[object Error]"===m(t),j=t=>"[object Boolean]"===m(t),E=t=>"[object Number]"===m(t),S=t=>"[object String]"===m(t),k=Array.isArray,v=Object.getOwnPropertyDescriptor,R=Object.prototype.propertyIsEnumerable,P=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,I=Object.keys;function M(t){const e=I(t),n=P(t);for(let o=0;o<n.length;o++)R.call(t,n[o])&&e.push(n[o]);return e}function C(t,e){return!v(t,e)?.writable}function A(t,e){if("object"==typeof t&&null!==t){let n;if(k(t))n=[];else if(b(t))n=new Date(t.getTime?t.getTime():t);else if(w(t))n=new RegExp(t);else if(_(t))n={message:t.message};else if(j(t)||E(t)||S(t))n=Object(t);else{if(g(t))return t.slice();n=Object.create(Object.getPrototypeOf(t))}const o=e.includeSymbols?M:I;for(const e of o(t))n[e]=t[e];return n}return t}var x={includeSymbols:!1,immutable:!1};function L(t,e,n=x){const o=[],r=[];let s=!0;const i=n.includeSymbols?M:I,c=!!n.immutable;return function t(a){const l=c?A(a,n):a,u={};let f=!0;const d={node:l,node_:a,path:[].concat(o),parent:r[r.length-1],parents:r,key:o[o.length-1],isRoot:0===o.length,level:o.length,circular:void 0,isLeaf:!1,notLeaf:!0,notRoot:!0,isFirst:!1,isLast:!1,update:function(t,e=!1){d.isRoot||(d.parent.node[d.key]=t),d.node=t,e&&(f=!1)},delete:function(t){delete d.parent.node[d.key],t&&(f=!1)},remove:function(t){k(d.parent.node)?d.parent.node.splice(d.key,1):delete d.parent.node[d.key],t&&(f=!1)},keys:null,before:function(t){u.before=t},after:function(t){u.after=t},pre:function(t){u.pre=t},post:function(t){u.post=t},stop:function(){s=!1},block:function(){f=!1}};if(!s)return d;function p(){if("object"==typeof d.node&&null!==d.node){d.keys&&d.node_===d.node||(d.keys=i(d.node)),d.isLeaf=0===d.keys.length;for(let t=0;t<r.length;t++)if(r[t].node_===a){d.circular=r[t];break}}else d.isLeaf=!0,d.keys=null;d.notLeaf=!d.isLeaf,d.notRoot=!d.isRoot}p();const h=e(d,d.node);if(void 0!==h&&d.update&&d.update(h),u.before&&u.before(d,d.node),!f)return d;if("object"==typeof d.node&&null!==d.node&&!d.circular){r.push(d),p();for(const[e,n]of Object.entries(d.keys??[])){o.push(n),u.pre&&u.pre(d,d.node[n],n);const r=t(d.node[n]);c&&O.call(d.node,n)&&!C(d.node,n)&&(d.node[n]=r.node),r.isLast=!!d.keys?.length&&+e==d.keys.length-1,r.isFirst=0==+e,u.post&&u.post(d,r),o.pop()}r.pop()}return u.after&&u.after(d,d.node),d}(t).node}var T=class{#t;#e;constructor(t,e=x){this.#t=t,this.#e=e}get(t){let e=this.#t;for(let n=0;e&&n<t.length;n++){const o=t[n];if(!O.call(e,o)||!this.#e.includeSymbols&&"symbol"==typeof o)return;e=e[o]}return e}has(t){let e=this.#t;for(let n=0;e&&n<t.length;n++){const o=t[n];if(!O.call(e,o)||!this.#e.includeSymbols&&"symbol"==typeof o)return!1;e=e[o]}return!0}set(t,e){let n=this.#t,o=0;for(o=0;o<t.length-1;o++){const e=t[o];O.call(n,e)||(n[e]={}),n=n[e]}return n[t[o]]=e,e}map(t){return L(this.#t,t,{immutable:!0,includeSymbols:!!this.#e.includeSymbols})}forEach(t){return this.#t=L(this.#t,t,this.#e),this.#t}reduce(t,e){const n=1===arguments.length;let o=n?this.#t:e;return this.forEach(((e,r)=>{e.isRoot&&n||(o=t(e,o,r))})),o}paths(){const t=[];return this.forEach((e=>{t.push(e.path)})),t}nodes(){const t=[];return this.forEach((e=>{t.push(e.node)})),t}clone(){const t=[],e=[],n=this.#e;return g(this.#t)?this.#t.slice():function o(r){for(let n=0;n<t.length;n++)if(t[n]===r)return e[n];if("object"==typeof r&&null!==r){const s=A(r,n);t.push(r),e.push(s);const i=n.includeSymbols?M:I;for(const t of i(r))s[t]=o(r[t]);return t.pop(),e.pop(),s}return r}(this.#t)}};class D{value;next;constructor(t){this.value=t}}class ${#n;#o;#r;constructor(){this.clear()}enqueue(t){const e=new D(t);this.#n?(this.#o.next=e,this.#o=e):(this.#n=e,this.#o=e),this.#r++}dequeue(){const t=this.#n;if(t)return this.#n=this.#n.next,this.#r--,t.value}peek(){if(this.#n)return this.#n.value}clear(){this.#n=void 0,this.#o=void 0,this.#r=0}get size(){return this.#r}*[Symbol.iterator](){let t=this.#n;for(;t;)yield t.value,t=t.next}*drain(){for(;this.#n;)yield this.dequeue()}}function z(t){F(t);const e=new $;let n=0;const o=()=>{n<t&&e.size>0&&(e.dequeue()(),n++)},r=async(t,e,r)=>{const s=(async()=>t(...r))();e(s);try{await s}catch{}n--,o()},s=(s,...i)=>new Promise((c=>{((s,i,c)=>{new Promise((t=>{e.enqueue(t)})).then(r.bind(void 0,s,i,c)),(async()=>{await Promise.resolve(),n<t&&o()})()})(s,c,i)}));return Object.defineProperties(s,{activeCount:{get:()=>n},pendingCount:{get:()=>e.size},clearQueue:{value(){e.clear()}},concurrency:{get:()=>t,set(r){F(r),t=r,queueMicrotask((()=>{for(;n<t&&e.size>0;)o()}))}}}),s}function F(t){if(!Number.isInteger(t)&&t!==Number.POSITIVE_INFINITY||!(t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}const N="__ASTRO_IMAGE_";function V(t,e){if(t=f(t,N),d(t))return;const n=t.split(".").at(-1)?.toLowerCase();if(!n||!h.includes(n))return;const o=new URLSearchParams("astroContentImageFlag");return e&&o.set("importer",e),`${t}?${o.toString()}`}class q{_collections=new Map;constructor(){this._collections=new Map}get(t,e){return this._collections.get(t)?.get(String(e))}entries(t){return[...(this._collections.get(t)??new Map).entries()]}values(t){return[...(this._collections.get(t)??new Map).values()]}keys(t){return[...(this._collections.get(t)??new Map).keys()]}has(t,e){const n=this._collections.get(t);return!!n&&n.has(String(e))}hasCollection(t){return this._collections.has(t)}collections(){return this._collections}static async fromModule(){try{const t=await import("./_astro_data-layer-content_DPQ7O7n9.mjs");if(t.default instanceof Map)return q.fromMap(t.default);const e=y(t.default);return q.fromMap(e)}catch{}return new q}static async fromMap(t){const e=new q;return e._collections=t,e}}const B=function(){let t;return{get:async()=>(t||(t=q.fromModule()),t),set:e=>{t=e}}}(),U={ASSETS_PREFIX:void 0,BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,PUBLIC_WALINE_SERVER:"https://youngestarbackyard.vercel.app/",SITE:"https://frosti.saroprock.com",SSR:!0};function W({globResult:t,contentDir:e}){const n={};for(const o in t){const r=o.replace(new RegExp(`^${e}`),"").split("/");if(r.length<=1)continue;const s=r[0];n[s]??={},n[s][o]=t[o]}return n}function G({legacyId:e,...c}){const a={...c,id:e,slug:c.id};return{...a,render:()=>async function(e){if(!e)throw new t(o);if("render"in e&&!("legacyId"in e))return e.render();if(e.deferredRender)try{const{default:t}=await import("./content-modules_BPE11FVf.mjs"),n=t.get(e.filePath);return Q({collection:"",id:e.id,renderEntryImport:n})}catch(t){console.error(t)}const c=e?.rendered?.metadata?.imagePaths?.length&&e.filePath?await async function(t,e){const{default:n}=await import("./content-assets_DTLWMO03.mjs"),o=new Map,{getImage:r}=await import("./_astro_assets_Cenp1MQy.mjs").then((t=>t._));for(const[s,i]of t.matchAll(H))try{const t=JSON.parse(i.replaceAll("&#x22;",'"'));let s;if(URL.canParse(t.src))s=await r(t);else{const i=V(t.src,e),c=n.get(i);if(!i||o.has(i)||!c)continue;s=await r({...t,src:c})}o.set(i,s)}catch{throw new Error(`Failed to parse image reference: ${i}`)}return t.replaceAll(H,((t,e)=>{const n=o.get(e);if(!n)return t;const{index:r,...s}=n.attributes;return Object.entries({...s,src:n.src,srcset:n.srcSet.attribute}).map((([t,e])=>e?`${t}="${i(e)}"`:"")).join(" ")}))}(e.rendered.html,e.filePath):e?.rendered?.html;return{Content:n((()=>s`${r(c)}`)),headings:e?.rendered?.metadata?.headings??[],remarkPluginFrontmatter:e?.rendered?.metadata?.frontmatter??{}}}(a)}}const H=/__ASTRO_IMAGE_="([^"]+)"/g;function J(t,e,n){return new T(t).map((function(t,o){if("string"==typeof o&&o.startsWith(N)){const r=o.replace(N,""),s=V(r,e);if(!s)return void t.update(r);const i=n?.get(s);i?t.update(i):t.update(r)}}))}async function Q({collection:o,id:i,renderEntryImport:f}){const d=new t({...e,message:`Unexpected error while rendering ${String(o)} â†’ ${String(i)}.`});if("function"!=typeof f)throw d;const h=await f();if(null==h||"object"!=typeof h)throw d;const{default:y}=h;if("object"==typeof(m=y)&&null!=m&&"__astroPropagation"in m){const{collectedStyles:t,collectedLinks:e,collectedScripts:o,getMod:f}=y;if("function"!=typeof f)throw d;const h=await f();if(null==h||"object"!=typeof h)throw d;return{Content:n({factory(n,f,d){let y="",m="",g="";Array.isArray(t)&&(y=t.map((t=>c(n,{type:"inline",content:t}))).join("")),Array.isArray(e)&&(m=e.map((t=>c(n,{type:"external",src:p(t)}))).join("")),Array.isArray(o)&&(g=o.map((t=>a(t))).join(""));let b=f;return i.endsWith("mdx")&&(b={components:h.components??{},...f}),l(r(y+m+g),s`${u(n,"Content",h.Content,b,d)}`)},propagation:"self"}),headings:h.getHeadings?.()??[],remarkPluginFrontmatter:h.frontmatter??{}}}if(h.Content&&"function"==typeof h.Content)return{Content:h.Content,headings:h.getHeadings?.()??[],remarkPluginFrontmatter:h.frontmatter??{}};throw d;var m}const X="/src/content/",Y=W({globResult:"",contentDir:X}),K=W({globResult:"",contentDir:X});W({globResult:{..."",...""},contentDir:X});let Z={};Z={},new Set(Object.keys(Z));const tt=W({globResult:"",contentDir:X}),et=new Map,nt=function({contentCollectionToEntryMap:t,dataCollectionToEntryMap:e,getRenderEntryImport:n,cacheEntriesByCollection:o}){return async function(r,s){const i="function"==typeof s,c=await B.get();let a;if(r in t)a="content";else{if(!(r in e)){if(c.hasCollection(r)){const{default:t}=await import("./content-assets_DTLWMO03.mjs"),e=[];for(const n of c.values(r)){const o=J(n.data,n.filePath,t);let c={...n,data:o,collection:r};c.legacyId&&(c=G(c)),i&&!s(c)||e.push(c)}return e}return console.warn(`The collection ${JSON.stringify(r)} does not exist or is empty. Please check your content config file for errors.`),[]}a="data"}const l=Object.values("content"===a?t[r]:e[r]);let u=[];if(!Object.assign(U,{Path:process.env.Path})?.DEV&&o.has(r))u=o.get(r);else{const t=z(10);u=await Promise.all(l.map((e=>t((async()=>{const t=await e();return"content"===a?{id:t.id,slug:t.slug,body:t.body,collection:t.collection,data:t.data,render:async()=>Q({collection:t.collection,id:t.id,renderEntryImport:await n(r,t.slug)})}:{id:t.id,collection:t.collection,data:t.data}}))))),o.set(r,u)}return i?u.filter(s):u.slice()}}({contentCollectionToEntryMap:Y,dataCollectionToEntryMap:K,getRenderEntryImport:(ot=tt,async(t,e)=>{const n=Z[t]?.entries[e];if(n)return ot[t][n]}),cacheEntriesByCollection:et});var ot;export{nt as g};
